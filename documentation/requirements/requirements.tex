\section{Allgemeine Problemstellung}
\label{Problemstellung}
    Im Zuge des Projektes gilt es eine webbasierte Plattform zu schaffen, die die Verwaltung des Empiriepraktikums der FSU Jena ermöglicht.
    Hauptaufgabe dieser Plattform ist, den verantwortliche Mitarbeitern der FSU Jena zu ermöglichen, für ein kommendes Semester ein neues Praktiumsmodul mit allen zugehörigen Kursen anlegen zu können.
    Des Weiteren sollen die Studenten die Möglichkeit erhalten eine Präferenzliste zu erstellen, welche der angebotenen Kurse sie am liebsten besuchen möchten.
    Nach Ablauf einer vorher festzulegenden Frist sollen die Studenten gemäß ihrer Präferenzliste dann automatisch bestmöglich auf die Kurse verteilt werden.     

\section{Genaue Anforderungen an das System}
    Gemäß der allgemeinen Problemstellung aus Abschnitt \ref{Problemstellung} existieren verschiedene Sichtweisen auf die Anforderungen des Systems.
    Zum einen die Sicht der Verantwortlichen für Praktikum und Kurse, zum anderen die der Studenten.
    Erstere teilt sich wiederum auf in den Blickwinkel der Dozenten der einzelnen Kurse und der übergeordneten Verantwortlichen für das Empiriepraktikum, im Weiteren Administratoren genannt.
    Im Folgenden werden zunächst die Anforderungen für Studenten, Dozenten und Administratoren anhand des chronologischen Ablaufs eines Praktikumsmoduls dargestellt.
    Anschließend wird nochmal eine kurze Übersicht über die Anforderungen der jeweiligen Sichtweisen gegeben.
    
    \subsection{Ablauf eines Praktikumsmoduls}
        Der Ablauf beginnt, indem die Administratoren, nachdem sie sich in einer Login-Oberfläche angemeldet haben, ein neues Praktikumsmodul erstellen.
        Zu diesem Praktikumsmodul gehören neben generellen Informationen wie Name und Semester auch die besonderen Angaben, ab wann Studenten ihre Präferenzliste erstellen können und zu welchem Zeitpunkt die automatische Verteilung vorgenommen werden soll.
        Im Anschluss können die Dozenten, nachdem auch sie sich in einer entsprechenden Oberfläche angemeldet haben, ihre Kurse zu dem aktuellen Praktikumsmodul hinzufügen.
        Dabei sollen Kurse Angaben über Titel, Dozent, Teilnehmerzahl, Ort, Zeit, Beschreibung des Kurses und eine Literaturliste besitzen.
        Nachdem alle Dozenten ihre Kurse eingetragen haben, sollen die Administratoren die aktuelle Kursübersicht online stellen können, sodass jeder die Kurse einsehen kann.
        Besteht Interesse, dass Empiriepraktikum in diesem Semester zu absolvieren, so sollen sich die Studierenden registrieren können.
        Nach der Registrierung können die Studenten ihre Präferenzliste erstellen und speichern.
        Dabei soll die soll Präferenzliste auch jederzeit vom Studierenden noch verändert werden können.
        Nach jeder gespeicherten Änderung soll der Student eine Email-Benachrichtigung mit seiner aktuellen Präferenzliste erhalten.
        Nach Ablauf der zuvor von den Administratoren festgelegten Frist sollen die Studenten automatisch anhand ihrer aktuellen Version der Präferenzliste auf die Kurse verteilt werden.
        Diese Verteilung sollte möglichst gut sein, d.h. in Fall dieses Projekts eine möglichst gleichmäßige Verteilung der Studenten mit wenigen Ausreißern nach Unten.
        Nach dieser automatischen Verteilung soll eine Nachbearbeitungsphase folgen, in der die Administratoren den Algorithmus bei Bedarf mit vielleicht anderen Parametern neu starten können.
        Es soll jedoch auch die Möglichkeit geben, das Ergebnis der Verteilung manuell zu ändern.
        Nachdem das Ergebnis der Verteilung feststeht, sollen alle Beteiligten Studenten und Dozenten über das Ergebnis der Verteilung mittels einer Email-Benachrichtigung informiert werden.
        Ab diesem Moment sollen die Teilnehmer jedes Kurses für jeden sichtbar sein.
        \textcolor{red}{Erwähnung der Tauschperiode? Nur für den Fall, dass wir sie wirklich am Ende implementieren}
        
        
                
    \subsection{Verschiedene Sichten im Überblick}
    \label{Sichten}
                
        \subsubsection{Sicht der Administratoren}
            Die Administratoren haben die Möglichkeit, neue Dozenten zu erstellen, diese zu bearbeiten und zu löschen.
            Zusätzlich ist er dafür verantwortlich, die Ergebnisse des Verteilungsalgorithmus zu verändern und zu bestätigen.
%       	 Teilnehmerzahl fließend einstellen, mindestens aber 3
%            Kurs als freibleiben markieren, falls er doch nicht angeboten wird
%			 Registrierte Dozenten rausschmeißen können
%			 Einsehbar welche Lehrstühle wie viel anbieten
%			 Filterfunktionen wie finanzierung & Teilnehmeranzahl ...
                
  
         
        \subsubsection{Sicht der Dozenten}
            Ein Dozent hat die Möglichkeit, Kurse für das Praktikum zu erstellen. Für einen Kurs müssen sie folgendes angeben:
            \begin{itemize}
                \item Name
                \item Titel
                \item Dozenten
                \item Zeit/Raum
                % Minimale Teilnehmer fällt raus, da die Psychologen festegelegt haben, es müssen mindestens 3 Leute in jedem Kurs sein
                \item Maximale Teilnehmer (5 oder 10!)
                \item Kurzbeschreibung
                \item Beschreibung
                \item Literatur
                \item E-Mail Adresse des Empirie-Praktikums-Leiter %? Ist das nicht nur die vom Dozenten
            \end{itemize}
            Folgendes ist nicht für den Studenten einsehbar:
            \begin{itemize}
                \item Lehrstuhl
                \item Lehrauftrag
                \item Erstes Mal Empiriepraktikum?
            \end{itemize}
            
            
        Nachdem die Studenten verteilt worden sind, erhalten die Dozenten eine E-Mail mit den Studenten, die in ihrem Kurs sind.
        Im Verlaufe des Semesters können Dozenten ihren Kurs in zwei Kurse aufteilen.
%        Dozent Textformatieren & Bilder einfügen
%        5 oder 10 Teilnehmer
%        Lehrstuhl angeben, aber nicht für Studenten sichtbar\\
%    	 Jeder kann nur seine eigene veranstaltung editieren
%		 Jeder Dozent sieht was er in vorherigen Jahren gemacht hat, um evtl. den gleichen Kurs nochmal anzubieten

        
        
        Sollten Dozenten zu einem anderem Semester erneut Kurse anbieten, so haben sie die Möglichkeit, ihre alten Kurse einzusehen und (ohne Änderung des alten Kurses) einen dieser als Vorlage für einen neuen Kurs zu nutzen.

            
        \subsubsection{Sicht der Studenten}
%        3 Wochen für Angabe der Präferenzliste\\
%		 Tauschphase vor eigentlichem Beginn der Veranstaltung mit Email an die Dozenten & Administratoren
%		 Lehrstuhl für die Studenten nicht einsehbar


%	Das ganze offen und Modular halten für andere Module als das Empiriepraktikum
%	Dabei auf Hierarchie von Präferenzen achten
%	evtl. die Möglichkeit falls mehr Studenten als Kurse, neue Kurse hinzufügen können
%	evtl. ein Archiv


        

\section{Der Verteilungsalgorithmus}
Der Verteilungsalgorithmus verteilt alle Studenten auf die Kurse.
Dabei ist es wichtig, dass die aufaddierte maximale Teilnehmeranzahl der Kurse größer ist als die Anzahl der zu verteilenden Studenten.
Sollte dem nicht der Fall sein, so wird der Administrator informiert.
Dieser hat dann die Möglichkeit die maximale Teilnehmeranzahl von Kursen zu erhöhen.
Die Eingabe des Algorithmus sind die Gewichte der Präferenzen und (optional) die Auswahl eines Optimierungsalgorithmus.

Startet der Algorithmus, so versucht er, für jeden Studenten die größte, mögliche Präferenz zu den Kursen zu wählen.
Dabei ist insbesonders wichtig, dass die Streuung der gewählten Präferenzen möglichst gering ist.
Dies erfolgt beispielsweise durch eine Gewichtung der Präferenzen.\\
Weiterhin platziert der Algortihmus in jeden Kurs mindestens drei Studenten, damit der Kurs sinnvoll angeboten werden kann.
Es werden aber nie mehr Teilnehmer einem Kurs zugeordnet als die maximale Teilnehmeranzahl des Kurses vorgibt.

Hat der Algorithmus schließlich eine passende Zuordnung von Studenten zu Kursen gefunden, so wird der Administrator zuerst benachrichtigt.
Dieser kann die Ergebnisse bearbeiten, Parameter des Algorithmus neu einstellen, Kurse aktivieren/deaktivieren und ihn erneut starten.
Ist der Administrator zufrieden mit der Verteilung, so bestätigt dieser das Ergebnis.
Anschließend wird an die Dozenten eine E-Mail mit ihren Teilnehmern geschickt, und Studenten erhalten eine E-Mail mit ihrem Kurs.
%    \item Nach Ende der Einschreibung, startet der Algortihmus automatisch. -> unsicher ob sie es so wollten durch die verschiedenen Einstell-Möglichkeiten. Sie hatten im Gespräch beides gesagt.

\section{Technische Details}
Der Login wird über eine E-Mail/Passwort Authentifizierung realisiert.
Dafür werden nur E-Mail Adressen der FSU Jena nutzbar sein. Dies bedeutet, dass E-Mails auf ''@uni-jena.de''enden müssen.
Man kann sich zu jeder Zeit ein- und ausloggen.\newline

Bei der Wahl der Präferenzen darf keine Präferenz doppelt belegt werden, d.h. jede Präferenz hat einen eindeutigen Kurs. \newline %egal option?

Der Verteilungsalgorithmus kann mit verschiedenen Optionen angesteuert werden. Optionen können u.a. die Gewichtung der Varianz, oder welche Kurse belegt werden können, sein. Weiterhin ist der Verteilungsalgorithmus innerhalb von 24 Stunden fertig. \newline


\begin{itemize}
\item Man kann sich zu einem beliebigen Zeitpunkt einloggen und ausloggen.
\item Der Verteilungsalgorithmus braucht maximal 24 Stunden.
\item Die Website muss auch auf mobilen Endgeräten funktionieren.
\item Sollte ein Browser älter als IE11 sein, so wird den Nutzer angezeigt, dass sie ihren Browser updaten sollen.
\item Die Website wird auf einer docker-compose Umgebung aufgesetzt.
\item Die Website wird mit OctoberCMS mit Laravel 5.5 umgesetzt.
\item Der Webserver wird mit Nginx umgesetzt.
\item Die Datenbank wird mit MySQL umgesetzt.
\item Der Cache-Server wird mit Redis umgesetzt.
\item Tests erfolgen für die wesentlichsten Bestandteile, insbesondere für den Algorithmus.
\item Kursinformationen sind öffentlich einsehbar.
\item Kurse können von nicht-Studenten insbesondere nach folgenden Kriterien gefiltert werden: 
    \begin{itemize}
    \item Lehrstuhl
    \item Finanzierung/Lehrauftrag
    \item Erstes Mal Empiriepraktikum?
    \end{itemize}
\end{itemize}
